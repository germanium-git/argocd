namespace: cert-manager

cert-manager:
  installCRDs: true
  ingressShim:
    defaultIssuerName: letsencrypt-prod
    defaultIssuerKind: ClusterIssuer
  extraArgs:
    -  --dns01-recursive-nameservers=1.1.1.1:53,9.9.9.9:53
    -  --dns01-recursive-nameservers-only
  podDnsPolicy: None
  podDnsConfig:
    nameservers:
    - "1.1.1.1"
    - "9.9.9.9"
  global:
    logLevel: 2

  prometheus:
    # Note that you cannot enable both PodMonitor and ServiceMonitor as they are
    # mutually exclusive. Enabling both will result in an error.
    enabled: true

    servicemonitor:
      # Create a ServiceMonitor to add cert-manager to Prometheus.
      enabled: true
      prometheusInstance: default
      labels:
        release: kube-prometheus-stack
